https://discourse.onlinedegree.iitm.ac.in/t/161120

We are all learning from each other.</p>
<p>Kind regards</p><hr>

<h4>23F300327 (#51)</h4>
<pre><code class="lang-auto">from flask import Flask, request, jsonify
import pandas as pd
from flask_cors import CORS

app = Flask(__name__)
CORS(app)

# Load the CSV file into a DataFrame
data = pd.read_csv('marks.csv')

@app.route('/api', methods=['GET'])
def get_marks():
    # Get the list of names from query parameters
    names = request.args.getlist('name')
    
    # Ensure the order of the names in the response matches the query
    marks = [
        int(data[data['name'] == name]['marks'].values[0]) if not data[data['name'] == name].empty else None 
        for name in names
    ]
    
    return jsonify({"marks": marks})

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
<p>this is the 2nd code I am trying but same error TypeError: Failed to fetch</p><hr>

<h4>23F300327 (#50)</h4>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/lim43PiXEjdjlXTI4ijfw7jeqDQ.png?dl=1" href="https://europe1.discourse-cdn.com/flex013/uploads/iitm/original/3X/9/5/9540d770e250d10f3b19c38ce563192219676d6e.png" rel="noopener nofollow ugc" title="Screenshot 2025-01-21 at 1.37.06 PM"><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">Screenshot 2025-01-21 at 1.37.06 PM</span><span class="informations">1440×900 28.1 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg></div></a></div><br/>
when I paste the url it is showing TypeError: Failed to fetch<br/>
my code:</p>
<pre><code class="lang-auto">import json
import pandas as pd
from http.server import BaseHTTPRequestHandler, HTTPServer
from urllib.parse import urlparse, parse_qs

# Load the CSV file into a DataFrame
try:
    data = pd.read_csv('marks.csv')
except FileNotFoundError:
    data = None

class MarksHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        if data is None:
            self.send_response(500)
            self.send_header("Content-type", "application/json")
            self.send_header("Access-Control-Allow-Origin", "*")
            self.end_headers()
            self.wfile.write(json.dumps({"error": "marks.csv not found"}).encode())
            return

        parsed_path = urlparse(self.path)
        query_params = parse_qs(parsed_path.query)
        names = query_params.get('name', [])  # Get list of names from query parameters

        marks = [
            int(data[data['name'] == name]['marks'].values[0]) if not data[data['name'] == name].empty else None 
            for name in names
        ]

        response = json.dumps({"marks": marks})
        self.send_response(200)
        self.send_header("Content-type", "application/json")
        self.send_header("Access-Control-Allow-Origin", "*")  # Enable CORS
        self.end_headers()
        self.wfile.write(response.encode())

if __name__ == "__main__":
    server_address = ('', 8000)  # Run on port 8000
    httpd = HTTPServer(server_address, MarksHandler)
    print("Server running on port 8000...")
    httpd.serve_forever()
</code></pre><hr>

<h4>Divya1 (#49)</h4>
<p>1.how to sign into github</p>
<p>2.what is user name there…it is not working</p><hr>

<h4>carlton (#48)</h4>
<p><a class="mention" href="/u/23f300327">@23F300327</a> You would have to be a bit more specific on what exactly is the nature of your error on your machine.</p>
<p>GA2 - Q6 has no dependency on the OS or your computer.